(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(32)},,,,,,,,,function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(3),r=n.n(l),o=(n(15),n(5)),u=n(4),i=n(1),m=(n(18),function(e){return c.a.createElement("div",{className:"card"},e.children)}),s=(n(20),n(22),function(){return c.a.createElement("div",{className:"lds-ring"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))}),d=c.a.memo(function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],r=n[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),d=u[0],f=u[1];return c.a.createElement("section",{className:"ingredient-form"},c.a.createElement(m,null,c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onAddIngredient({title:l,amount:d})}},c.a.createElement("div",{className:"form-control"},c.a.createElement("label",{htmlFor:"title"},"Name"),c.a.createElement("input",{type:"text",id:"title",value:l,onChange:function(e){r(e.target.value)}})),c.a.createElement("div",{className:"form-control"},c.a.createElement("label",{htmlFor:"amount"},"Amount"),c.a.createElement("input",{type:"number",id:"amount",value:d,onChange:function(e){f(e.target.value)}})),c.a.createElement("div",{className:"ingredient-form__actions"},c.a.createElement("button",{type:"submit"},"Add Ingredient"),e.loading?c.a.createElement(s,null):null))))}),f=(n(24),c.a.memo(function(e){var t=e.onLoadIngredients,n=Object(a.useState)(""),l=Object(i.a)(n,2),r=l[0],o=l[1],u=Object(a.useRef)();return Object(a.useEffect)(function(){var e=setTimeout(function(){if(r===u.current.value){var e=0===r.length?"":'?orderBy="title"&equalTo="'.concat(r,'"');fetch("https://react-hooks-update-48230-default-rtdb.firebaseio.com/ingredients.json"+e).then(function(e){return e.json()}).then(function(e){var n=[];for(var a in e)n.push({id:a,title:e[a].title,amount:e[a].amount});t(n)})}},500);return function(){clearTimeout(e)}},[r,t,u]),c.a.createElement("section",{className:"search"},c.a.createElement(m,null,c.a.createElement("div",{className:"search-input"},c.a.createElement("label",null,"Filter by Title"),c.a.createElement("input",{ref:u,type:"text",value:r,onChange:function(e){return o(e.target.value)}}))))})),E=(n(26),function(e){return c.a.createElement("section",{className:"ingredient-list"},c.a.createElement("h2",null,"Loaded Ingredients"),c.a.createElement("ul",null,e.ingredients.map(function(t){return c.a.createElement("li",{key:t.id,onClick:e.onRemoveItem.bind(void 0,t.id)},c.a.createElement("span",null,t.title),c.a.createElement("span",null,t.amount,"x"))})))}),b=(n(28),c.a.memo(function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"backdrop",onClick:e.onClose}),c.a.createElement("div",{className:"error-modal"},c.a.createElement("h2",null,"An Error Occurred!"),c.a.createElement("p",null,e.children),c.a.createElement("div",{className:"error-modal__actions"},c.a.createElement("button",{type:"button",onClick:e.onClose},"Okay"))))}));var v=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],r=Object(a.useState)(!1),m=Object(i.a)(r,2),s=m[0],v=m[1],h=Object(a.useState)(null),g=Object(i.a)(h,2),p=g[0],j=g[1];Object(a.useEffect)(function(){console.log("RENDERING INGREDIENTS",n)},[n]);var O=Object(a.useCallback)(function(e){l(e)},[]);return c.a.createElement("div",{className:"App"},p?c.a.createElement(b,{onClose:function(){j(null)}},p):null,c.a.createElement(d,{onAddIngredient:function(e){v(!0),fetch("https://react-hooks-update-48230-default-rtdb.firebaseio.com/ingredients.json",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return v(!1),e.json()}).then(function(t){l(function(n){return[].concat(Object(u.a)(n),[Object(o.a)({id:t.name},e)])})})},loading:s}),c.a.createElement("section",null,c.a.createElement(f,{onLoadIngredients:O}),c.a.createElement(E,{ingredients:n,onRemoveItem:function(e){v(!0),fetch("https://react-hooks-update-48230-default-rtdb.firebaseio.com/ingredients/".concat(e,".json"),{method:"DELETE"}).then(function(t){v(!1),l(function(t){return t.filter(function(t){return t.id!==e})})}).catch(function(e){j("Something went wrong!"),v(!1)})}})))},h=(n(30),c.a.createContext({isAuth:!1,login:function(){}})),g=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),l=n[0],r=n[1];return c.a.createElement(h.Provider,{value:{login:function(){r(!0)},isAuth:l}},e.children)},p=function(e){var t=Object(a.useContext)(h);return c.a.createElement("div",{className:"auth"},c.a.createElement(m,null,c.a.createElement("h2",null,"You are not authenticated!"),c.a.createElement("p",null,"Please log in to continue."),c.a.createElement("button",{onClick:function(){return t.login()}},"Log In")))},j=function(e){var t=Object(a.useContext)(h),n=c.a.createElement(p,null);return t.isAuth&&(n=c.a.createElement(v,null)),n};r.a.createRoot(document.getElementById("root")).render(c.a.createElement(g,null,c.a.createElement(j,null)))}],[[6,2,1]]]);
//# sourceMappingURL=main.2e659c62.chunk.js.map